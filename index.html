
<!--width: 1904px;-->
<!--height: 964px;-->
<canvas id="canvas-593-aa" width="4630px" height="2410px" style="position: absolute;top: -723px;left: -1389px;display: block; margin: 0 auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb;width: 4630px;height: 2410px;">
	No canvas support means no fun.
</canvas>

<canvas id="canvas-593-a" width="1904px" height="964px" style="position: absolute;top: -1px;left: 0;display: block; margin: 0 auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb;width: 1904px;height: 964px;">
	No canvas support means no fun.
</canvas>


<canvas id="canvas-593" width="1024" height="640" style="position: absolute;top: -513px;left: 414px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>
<!-- <canvas id="canvas-594" width="1024" height="640" style="position: absolute;top: -256px;left: -98px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas> -->
<!-- <canvas id="canvas-595" width="1024" height="640" style="position: absolute;top: 0px;left: -608px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb;">
	No canvas support means no fun.
</canvas> -->
<canvas id="canvas-596" width="1024" height="640" style="position: absolute;top: -257px;left: 926px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>
<canvas id="canvas-597" width="1024" height="640" style="display: block; margin: 200px auto; background: #fff; box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>
<canvas id="canvas-598" width="1024" height="640" style="position: absolute;top: 257px;left: -98px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>

<!-- <canvas id="canvas-599" width="1024" height="640" style="position: absolute;top: 0px;left: 1435px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>
<canvas id="canvas-600" width="1024" height="640" style="position: absolute;top: 257px;left: 924px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>
<canvas id="canvas-601" width="1024" height="640" style="position: absolute;top: 514px;left: 413px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas> -->


<canvas id="grid-map" width="800" height="550" style="position: absolute;top: 0;left: 0;width: 800px;height: 550px;background: #fff; border: 1px solid; display: none"></canvas>

<!-- <canvas id="canvas-593" width="1024" height="640" style="position: absolute;top: -128px;left: 417px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>

<canvas id="canvas-594" width="1024" height="640" style="position: absolute;top: -64px;left: 288px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>

<canvas id="canvas-595" width="1024" height="640" style="position: absolute;top: 0px;left: 161px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb;">
	No canvas support means no fun.
</canvas>

<canvas id="canvas-596" width="1024" height="640" style="position: absolute;top: -64px;left: 546px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>
<canvas id="canvas-597" width="1024" height="640" style="display: block; margin: 200px auto; background: #fff; box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>

<canvas id="canvas-598" width="1024" height="640" style="position: absolute;top: 65px;left: 286px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>

<canvas id="canvas-599" width="1024" height="640" style="position: absolute;top: 0px;left: 673px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>



<canvas id="canvas-600" width="1024" height="640" style="position: absolute;top: 64px;left: 544px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas>

<canvas id="canvas-601" width="1024" height="640" style="position: absolute;top: 128px;left: 416px;display: block; margin: 200px auto;/*background: #fff;*/ box-shadow: none;; border: 0px solid #bbb">
	No canvas support means no fun.
</canvas> -->
<script src="scripts/KeyboardState.js"></script>
<script src="scripts/input.js"></script>
<script>
	// import {setupKeyboard} from './input.js';
// (function() {
	function useCanvas(canvasId, canvasOutId, xOutOffset, yOutOffset) {

		xOutOffset = xOutOffset ?? 0
		yOutOffset = yOutOffset ?? 0

		var canvas = document.getElementById(canvasId);
		var cw = canvas.width;
		var ch = canvas.height;
		var interval = null;
		// isometric:
		var IsoW = 32; // cell width
		var IsoH = 16; // cell height
		var IsoX = cw / 2;
		var IsoY = (ch - IsoH * 32) / 2;

		let gridRows = Array.from(Array(16)).map(() => {
			return []
		})
		function IsoToScreenX(localX, localY) {
			return IsoX + (localX - localY) * IsoW;
		}
		function IsoToScreenY(localX, localY) {
			return IsoY + (localX + localY) * IsoH;
		}
		function ScreenToIsoX(globalX, globalY) {
			return ((globalX - IsoX) / IsoW + (globalY - IsoY) / IsoH) / 2;
		}
		function ScreenToIsoY(globalX, globalY) {
			return ((globalY - IsoY) / IsoH - (globalX - IsoX) / IsoW) / 2;
		}
		//
		function bind(id, onupdate) {
			var canvas = document.getElementById(id);
			var ctx = canvas.getContext("2d");
			var mouseX = canvas.width / 2, mouseY = canvas.height / 2;
			function update() {
				ctx.clearRect(0, 0, canvas.width, canvas.height);
				ctx.save();
				onupdate(ctx, mouseX, mouseY);
				ctx.restore();
			}
			// canvas.onmousemove = function(e) {
			// 	mouseX = e.offsetX;
			// 	mouseY = e.offsetY;
			// }
			// canvas.onmouseover = function(e) {
			// 	if (interval == null) interval = setInterval(update, 50);
			// }
			// canvas.onmouseout = function(e) {
			// 	if (interval != null) {
			// 		clearInterval(interval);
			// 		interval = null;
			// 	}
			// }
			onupdate(ctx, mouseX, mouseY);
		}
		bind(/*"canvas-597"*/ canvasId, function(ctx, mouseX, mouseY) {
			ctx.font = "11px sans-serif";
			//
			var rx = ScreenToIsoX(mouseX, mouseY);
			var ry = ScreenToIsoY(mouseX, mouseY);
			ctx.textAlign = "left";
			ctx.textBaseline = "top";
			if(canvasId === 'canvas-597') {
			// ctx.fillText("Mouse (absolute): " + mouseX + "," + mouseY, 3, 3);
			// ctx.fillText("Mouse (relative): " + rx.toFixed(2) + "," + ry.toFixed(2), 3, 15);
			}
			//
			ctx.strokeStyle = "#ddd";
			let canvasOut = document.getElementById(canvasOutId)
			ctxOut = canvasOut.getContext('2d')

			if(canvasId === 'canvas-598') {
			}
			let canvasRect = canvas.getBoundingClientRect() 
			// Number(canvasOut.style['left'].replace('px', ''))
			// Number(canvasOut.style['top'].replace('px', ''))
			

			for (var i = 0; i <= 16; i++) {
				// if(canvasId === 'canvas-596') {
				// 	ctxOut.strokeStyle = '#d00'
				// } else {
					ctxOut.strokeStyle = '#ddd'					
				// }
				ctxOut.beginPath();

				ctxOut.moveTo(xOutOffset + canvasRect.x + IsoToScreenX(0, i), yOutOffset + canvasRect.y + IsoToScreenY(0, i));
				ctxOut.lineTo(xOutOffset + canvasRect.x + IsoToScreenX(16, i), yOutOffset + canvasRect.y + IsoToScreenY(16, i));
				ctxOut.moveTo(xOutOffset + canvasRect.x + IsoToScreenX(i, 0), yOutOffset + canvasRect.y + IsoToScreenY(i, 0));
				ctxOut.lineTo(xOutOffset + canvasRect.x + IsoToScreenX(i, 16), yOutOffset + canvasRect.y + IsoToScreenY(i, 16));
				ctxOut.closePath();
				ctxOut.stroke();
			}
			//
			if(canvasId === 'canvas-597') {
			rx = Math.max(0, Math.min(rx, 16));
			ry = Math.max(0, Math.min(ry, 16));
			ctx.strokeStyle = "red";
			ctx.beginPath();
			ctx.moveTo(IsoToScreenX(0, ry), IsoToScreenY(0, ry));
			ctx.lineTo(IsoToScreenX(16, ry), IsoToScreenY(16, ry));
			ctx.stroke();
			//
			ctx.strokeStyle = "blue";
			ctx.beginPath();
			ctx.moveTo(IsoToScreenX(rx, 0), IsoToScreenY(rx, 0));
			ctx.lineTo(IsoToScreenX(rx, 16), IsoToScreenY(rx, 16));
			ctx.stroke();
			}
			//
			ctx.textAlign = "center";
			ctx.textBaseline = "middle";
			for (var x = 0; x < 16; x++)
				for (var y = 0; y < 16; y++) {
					if(gridRows[y].length > 0) {
						// keep
					} else {
						gridRows[y] = []
					}
					gridRows[y].push({isoX: IsoToScreenX(x, y), isoY: IsoToScreenY(x, y) + IsoH})

					// ctx.fillText(x + "," + y, IsoToScreenX(x, y), IsoToScreenY(x, y) + IsoH);
				}
			//
		});
		var frame = 0.75;
		return {
			canvas: canvas,
			grid: gridRows,
			IsoH,
			IsoW
		}
	}
	canvasDetails593 = useCanvas('canvas-593', 'canvas-593-aa', 1389, 723)
	clientRect593 = canvasDetails593.canvas.getBoundingClientRect()

	// useCanvas('canvas-594', 'canvas-593-aa', 1389, 723)
	// useCanvas('canvas-595', 'canvas-593-aa', 1389, 723)

	canvasDetails596 = useCanvas('canvas-596', 'canvas-593-aa', 1389, 723)

	let canvasDetails597 = useCanvas('canvas-597', 'canvas-593-aa', 1389/*-100-10*/, 723)
	let clientRect = canvasDetails597.canvas.getBoundingClientRect()
	console.log({top: clientRect.top, left: clientRect.left})


	useCanvas('canvas-598', 'canvas-593-aa', 1389, 723)


	// useCanvas('canvas-599', 'canvas-593-aa', 1389, 723)
	// useCanvas('canvas-600', 'canvas-593-aa', 1389, 723)

	// useCanvas('canvas-601', 'canvas-593-aa', 1389, 723)


	let fromCtx = function(/* keep ctx */) {

		return {
			useCtx: function(passdCtx) {
				ctx = passdCtx
			},
			moveTo: function(y, x) {
				return ctx.moveTo(x, y)
			},
			lineTo: function(y, x) {
				return ctx.lineTo(x, y)
			},
		}
	}
	let throughStacking = function(fromY) {
		// keep
		// calc(fromY /* keep */ + 20)
		return fromY
	}

	let constructKnotSample = function(knotConstructionFromStarting) {
		// keep
		for(let k = 0; k < knotConstructionFromStarting.slice(1).length; k++) {
			ctx.beginPath()
			ctx.strokeStyle = '#000'

			fromCtx(ctx).moveTo(knotConstructionFromStarting[k].fromY, knotConstructionFromStarting[k].fromX)
			fromCtx(ctx).lineTo(knotConstructionFromStarting[k+1].fromY, knotConstructionFromStarting[k+1].fromX)

			ctx.stroke()

			ctx.strokeStyle = '#000'

		}
		// ctx.stroke()
	}
	let calc = function(expression) {
		return expression
	}
	let PointerShift = function () {
		let pointer
		let pointerBelongings

		return {
			usePointer: function(pointerSample) {
				pointer = pointerSample
			},
			usePointerAnother: function(pointerBelongingsSample) {
				pointerBelongings = pointerBelongingsSample
			},

			fromPointerShift: function (fromPassd) {
				if(pointer.fromY > pointerBelongings.fromY &&
						pointerBelongings.fromX > pointer.fromX
				) {
					// keep
				}

				// keep
				let knotWi = calc(/* keep - */calc(pointerBelongings.fromX - pointer.fromX))
				// use sample
				let profile = calc(/* keep - */ calc(pointer.fromY - pointerBelongings.fromY))


				return {
					fromY: fromPassd.fromY - profile,
					fromX: fromPassd.fromX + knotWi
				}

				if(pointer.fromY > pointerBelongings.fromY &&
						pointerBelongings.fromX > pointer.fromX
				) {
					// keep

				} else {


					/* let */ knotWi = pointer.fromX > pointerBelongings.fromX ? calc(/* keep - */calc(pointer.fromX - pointerBelongings.fromX))
							: calc(pointerBelongings.fromX - pointer.fromX)
					// use sample
					/* let */ profile = pointerBelongings.fromY > pointer.fromY ? calc(/* keep - */ calc(pointerBelongings.fromY - pointer.fromY))
							: calc(pointer.fromY - pointerBelongings.fromY)

					return {
						fromY: fromPassd.fromY - profile,
						fromX: fromPassd.fromX + knotWi
					}
				}



				return {
					fromY: fromPassd.fromY - profile,
					fromX: fromPassd.fromX + knotWi
				}
			}
		}
	}


	let constructKnot = function(knotSample) {

		let strokeStyleFromOriginal = ctx.strokeStyle
		ctx.beginPath()
		ctx.strokeStyle = '#000'

		let [y0, x0] = [knotSample.fromBottomLeft.fromY, knotSample.fromBottomLeft.fromX]
		let [yFromBottomRight, xFromBottomRight] = [knotSample.fromBottomRight.fromY, knotSample.fromBottomRight.fromX]

		fromCtx(ctx).moveTo(throughStacking(y0), x0)
		fromCtx(ctx).lineTo(throughStacking(yFromBottomRight), xFromBottomRight)

		let [yFromTopRight, xFromTopRight] = [throughStacking(knotSample.fromTopRight.fromY), knotSample.fromTopRight.fromX]

		fromCtx(ctx).moveTo(throughStacking(yFromBottomRight), xFromBottomRight)
		fromCtx(ctx).lineTo(throughStacking(yFromTopRight), xFromTopRight)

		let [yFromTopLeft, xFromTopLeft] = [throughStacking(knotSample.fromTopLeft.fromY), knotSample.fromTopLeft.fromX]

		fromCtx(ctx).moveTo(throughStacking(yFromTopRight), xFromTopRight)
		fromCtx(ctx).lineTo(throughStacking(yFromTopLeft), xFromTopLeft)

		// keep
		fromCtx(ctx).moveTo(throughStacking(yFromTopLeft), xFromTopLeft)
		fromCtx(ctx).lineTo(throughStacking(y0), x0)

		ctx.stroke()

		ctx.strokeStyle = strokeStyleFromOriginal
	}
	window['constructKnotSample'] = constructKnotSample
	window['constructKnot'] = constructKnot
	window['PointerShift'] = PointerShift
	window['calc'] = calc

	let canvas = document.querySelector('#canvas-593-aa')
	let ctx = canvas.getContext('2d')

	// constructKnot({
	// 	fromTopLeft: { fromY: 201, fromX: 418 },
	// 	fromTopRight: { fromY: 203, fromX: 1436 },
	// 	fromBottomRight: { fromY: 778, fromX: 1437 },
	// 	fromBottomLeft: { fromY: 778, fromX: 415 }
	// })


	let row = canvasDetails597.grid[0]
	let col = canvasDetails597.grid[0][0]
	let colSecond = canvasDetails597.grid[0][1]
	console.log({col, colSecond})

	let colRow1And0 = canvasDetails597.grid[1][0]
	let colRow1And1 = canvasDetails597.grid[1][1]

	console.log({
		IsoW: canvasDetails597.IsoW,
		IsoH: canvasDetails597.IsoH
	})

	let constructLine = (colSample, colAnother, sampleClientRect, sampleClientRectAnother) => {
		xOutOffset = 1389
		yOutOffset = 723

		if(typeof sampleClientRect === 'undefined') {
			sampleClientRect = clientRect
		}
		if(typeof sampleClientRectAnother === 'undefined') {
			sampleClientRectAnother = clientRect
		}
		
		constructKnotSample([
			{fromY: yOutOffset + sampleClientRect.top + colSample['isoY'], fromX: xOutOffset + sampleClientRect.left + colSample['isoX']},
			{fromY: yOutOffset + sampleClientRectAnother.top + colAnother['isoY'], fromX: xOutOffset + sampleClientRectAnother.left + colAnother['isoX'] }
		])
	}

	let constructRect = (pointerIntoPass) => {
		// pointerIntoPass = { fromY: 329, fromX: 831 }
		var IsoW = 32*0.5*0.5; // cell width
		var IsoH = 16*0.5*0.5; // cell height
		xOutOffset = 1389
		yOutOffset = 723

		if(canvasDetails597.IsoH === 16 && canvasDetails597.IsoW === 32) {
			pointerShift = new PointerShift()
			pointerShift.usePointer({ fromY: 295, fromX: 897 })
			pointerShift.usePointerAnother({ fromY: yOutOffset + clientRect.top + pointerIntoPass['isoY'], fromX: xOutOffset + clientRect.left + pointerIntoPass['isoX'] })

			constructKnot({
				fromTopLeft: pointerShift.fromPointerShift({ fromY: 296, fromX: 882 }),
				fromTopRight: pointerShift.fromPointerShift({ fromY: 287, fromX: 896 }),
				fromBottomRight: pointerShift.fromPointerShift({ fromY: 295, fromX: 907 }),
				fromBottomLeft: pointerShift.fromPointerShift({ fromY: 302, fromX: 893 })
			})
			constructKnot({
				fromTopLeft: pointerShift.fromPointerShift({ fromY: 276, fromX: 889 }),
				fromTopRight: pointerShift.fromPointerShift({ fromY: 275, fromX: 900 }),
				fromBottomRight: pointerShift.fromPointerShift({ fromY: 296, fromX: 900 }),
				fromBottomLeft: pointerShift.fromPointerShift({ fromY: 295, fromX: 890 })
			})
			return
		}

		pointerShift = new PointerShift()
		pointerShift.usePointer(/*{ fromY: 295, fromX: 897 }*/{ fromY: 360, fromX: 731 })
		pointerShift.usePointerAnother({ fromY: clientRect.top + pointerIntoPass['isoY'], fromX: clientRect.left + pointerIntoPass['isoX'] })

		constructKnot({

			fromTopLeft: pointerShift.fromPointerShift({ fromY: 360, fromX: 727 }),
			fromTopRight: pointerShift.fromPointerShift({ fromY: 357, fromX: 733 }),
			fromBottomRight: pointerShift.fromPointerShift({ fromY: 359, fromX: 736 }),
			fromBottomLeft: pointerShift.fromPointerShift({ fromY: 363, fromX: 730 })

		})
		constructKnot({

			fromTopLeft: pointerShift.fromPointerShift({ fromY: 347, fromX: 729 }),
			fromTopRight: pointerShift.fromPointerShift({ fromY: 347, fromX: 732 }),
			fromBottomRight: pointerShift.fromPointerShift({ fromY: 359, fromX: 732 }),
			fromBottomLeft: pointerShift.fromPointerShift({ fromY: 359, fromX: 729 })

		})
	}


    /* const */ canvas = document.querySelector('#canvas-593-aa');
    /* const */ ctx = canvas.getContext('2d');

	constructVerticalLine = function(col, colSecond, sampleClientRect, sampleClientRectAnother) {

		if(typeof sampleClientRect === 'undefined') {
			sampleClientRect = clientRect
		}
		if(typeof sampleClientRectAnother === 'undefined') {
			sampleClientRectAnother = clientRect
		}

		dx = calc(sampleClientRect.left + col['isoX']) - calc(sampleClientRectAnother.left + colSecond['isoX'])
		dy = calc(sampleClientRect.top + col['isoY']) - calc(sampleClientRectAnother.top + colSecond['isoY'])
		distance = Math.sqrt(dx * dx + dy * dy)

		xOutOffset = 1389
		yOutOffset = 723

		colSample = col
		colAnother = {
			'isoX': col['isoX'],
			'isoY': col['isoY'] - distance * 1.4
		}

		
		constructKnotSample([
			{fromY: yOutOffset + sampleClientRect.top + colSample['isoY'], fromX: xOutOffset + sampleClientRect.left + colSample['isoX']},
			{fromY: yOutOffset + sampleClientRectAnother.top + colAnother['isoY'], fromX: xOutOffset + sampleClientRectAnother.left + colAnother['isoX'] }
		])
	}

	constructTopLine = function(col, colSecond, sampleClientRect, sampleClientRectAnother) {
		
		if(typeof sampleClientRect === 'undefined') {
			sampleClientRect = clientRect
		}
		if(typeof clientRectAnother === 'undefined') {
			sampleClientRectAnother = clientRect
		}

		dx = calc(sampleClientRect.left + col['isoX']) - calc(sampleClientRectAnother.left + colSecond['isoX'])
		dy = calc(sampleClientRect.top + col['isoY']) - calc(sampleClientRectAnother.top + colSecond['isoY'])
		distance = Math.sqrt(dx * dx + dy * dy)

		xOutOffset = 1389
		yOutOffset = 723

		colSample = {
			'isoX': col['isoX'],
			'isoY': col['isoY'] - distance * 1.4
		}
		colAnother = {
			'isoX': colSecond['isoX'],
			'isoY': colSecond['isoY'] - distance * 1.4
		}

		
		constructKnotSample([
			{fromY: yOutOffset + sampleClientRect.top + colSample['isoY'], fromX: xOutOffset + sampleClientRect.left + colSample['isoX']},
			{fromY: yOutOffset + sampleClientRectAnother.top + colAnother['isoY'], fromX: xOutOffset + sampleClientRectAnother.left + colAnother['isoX'] }
		])
	}


	// constructLine(col, colSecond)
	// constructLine(colRow1And0, colRow1And1)
	// constructLine(colRow1And1, colSecond)
	// constructLine(col, colRow1And0)


	// constructVerticalLine(col, colSecond)
	// constructVerticalLine(colRow1And0, colRow1And1)

	// constructVerticalLine(colRow1And1, colSecond)
	// constructVerticalLine(colSecond, col)
	

	// constructTopLine(col, colSecond)
	// constructTopLine(colRow1And0, colRow1And1)
	// constructTopLine(colRow1And1, colSecond)
	// constructTopLine(col, colRow1And0)


	/* let */ clientRectAnother = canvasDetails596.canvas.getBoundingClientRect()

	/* let */ col = canvasDetails596.grid[15][0]
	/* let */ colSecond = canvasDetails596.grid[15][1]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails597.grid[0][0]
	/* let */ colRow1And1 = canvasDetails597.grid[0][1]


	// constructLine(col, colSecond, clientRectAnother, clientRectAnother)
	// constructLine(colRow1And0, colRow1And1, clientRect, clientRect)
	// constructLine(colRow1And1, colSecond, clientRect, clientRectAnother)
	// constructLine(col, colRow1And0, clientRectAnother, clientRect)


	// constructVerticalLine(col, colSecond, clientRectAnother, clientRectAnother)
	// constructVerticalLine(colRow1And0, colRow1And1, clientRect, clientRect)

	// // constructVerticalLine(colRow1And1, colSecond, clientRect, clientRectAnother)
	// constructVerticalLine(colSecond, col, clientRectAnother, clientRectAnother)


	// constructTopLine(col, colSecond, clientRectAnother, clientRectAnother)
	// constructTopLine(colRow1And0, colRow1And1, clientRect, clientRect)
	// constructTopLine(colRow1And1, colSecond, clientRect, clientRectAnother)
	// constructTopLine(col, colRow1And0, clientRectAnother, clientRect)
	

	// process.exit()


	/* let */ col = canvasDetails596.grid[14][0]
	/* let */ colSecond = canvasDetails596.grid[14][1]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails596.grid[15][0]
	/* let */ colRow1And1 = canvasDetails596.grid[15][1]



	constructLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)
	constructLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructLine(col, colRow1And0, clientRectAnother, clientRectAnother)


	constructVerticalLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructVerticalLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)

	constructVerticalLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructVerticalLine(colSecond, col, clientRectAnother, clientRectAnother)
	

	constructTopLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructTopLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)
	constructTopLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructTopLine(col, colRow1And0, clientRectAnother, clientRectAnother)



	/* let */ col = canvasDetails596.grid[13][0]
	/* let */ colSecond = canvasDetails596.grid[13][1]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails596.grid[14][0]
	/* let */ colRow1And1 = canvasDetails596.grid[14][1]



	constructLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)
	constructLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructLine(col, colRow1And0, clientRectAnother, clientRectAnother)


	constructVerticalLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructVerticalLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)

	constructVerticalLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructVerticalLine(colSecond, col, clientRectAnother, clientRectAnother)
	

	constructTopLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructTopLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)
	constructTopLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructTopLine(col, colRow1And0, clientRectAnother, clientRectAnother)




	/* let */ col = canvasDetails596.grid[11][0]
	/* let */ colSecond = canvasDetails596.grid[11][1]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails596.grid[12][0]
	/* let */ colRow1And1 = canvasDetails596.grid[12][1]



	constructLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)
	constructLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructLine(col, colRow1And0, clientRectAnother, clientRectAnother)


	constructVerticalLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructVerticalLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)

	constructVerticalLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructVerticalLine(colSecond, col, clientRectAnother, clientRectAnother)
	

	constructTopLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructTopLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)
	constructTopLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructTopLine(col, colRow1And0, clientRectAnother, clientRectAnother)




	/* let */ col = canvasDetails596.grid[10][0]
	/* let */ colSecond = canvasDetails596.grid[10][1]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails596.grid[11][0]
	/* let */ colRow1And1 = canvasDetails596.grid[11][1]



	constructLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)
	constructLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructLine(col, colRow1And0, clientRectAnother, clientRectAnother)


	constructVerticalLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructVerticalLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)

	constructVerticalLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructVerticalLine(colSecond, col, clientRectAnother, clientRectAnother)
	

	constructTopLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructTopLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)
	constructTopLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructTopLine(col, colRow1And0, clientRectAnother, clientRectAnother)



	/* let */ col = canvasDetails596.grid[9][0]
	/* let */ colSecond = canvasDetails596.grid[9][1]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails596.grid[10][0]
	/* let */ colRow1And1 = canvasDetails596.grid[10][1]



	constructLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)
	constructLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructLine(col, colRow1And0, clientRectAnother, clientRectAnother)


	constructVerticalLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructVerticalLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)

	constructVerticalLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructVerticalLine(colSecond, col, clientRectAnother, clientRectAnother)
	

	constructTopLine(col, colSecond, clientRectAnother, clientRectAnother)
	constructTopLine(colRow1And0, colRow1And1, clientRectAnother, clientRectAnother)
	constructTopLine(colRow1And1, colSecond, clientRectAnother, clientRectAnother)
	constructTopLine(col, colRow1And0, clientRectAnother, clientRectAnother)


	// context.drawImage(buffer, 20, 20, buffer.width, buffer.height, 20, 20, buffer.width, buffer.height)


	/* let */ col = canvasDetails593.grid[14][14]
	/* let */ colSecond = canvasDetails593.grid[14][15]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails593.grid[15][14]
	/* let */ colRow1And1 = canvasDetails593.grid[15][15]



	constructLine(col, colSecond, clientRect593, clientRect593)
	constructLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructLine(col, colRow1And0, clientRect593, clientRect593)


	constructVerticalLine(col, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colRow1And0, colRow1And1, clientRect593, clientRect593)

	constructVerticalLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colSecond, col, clientRect593, clientRect593)
	

	constructTopLine(col, colSecond, clientRect593, clientRect593)
	constructTopLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructTopLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructTopLine(col, colRow1And0, clientRect593, clientRect593)


	/* let */ col = canvasDetails593.grid[14][13]
	/* let */ colSecond = canvasDetails593.grid[14][14]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails593.grid[15][13]
	/* let */ colRow1And1 = canvasDetails593.grid[15][14]



	constructLine(col, colSecond, clientRect593, clientRect593)
	constructLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructLine(col, colRow1And0, clientRect593, clientRect593)


	constructVerticalLine(col, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colRow1And0, colRow1And1, clientRect593, clientRect593)

	constructVerticalLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colSecond, col, clientRect593, clientRect593)
	

	constructTopLine(col, colSecond, clientRect593, clientRect593)
	constructTopLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructTopLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructTopLine(col, colRow1And0, clientRect593, clientRect593)



	/* let */ col = canvasDetails593.grid[13][14]
	/* let */ colSecond = canvasDetails593.grid[13][15]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails593.grid[14][14]
	/* let */ colRow1And1 = canvasDetails593.grid[14][15]


	constructLine(col, colSecond, clientRect593, clientRect593)
	constructLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructLine(col, colRow1And0, clientRect593, clientRect593)


	constructVerticalLine(col, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colRow1And0, colRow1And1, clientRect593, clientRect593)

	constructVerticalLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colSecond, col, clientRect593, clientRect593)
	

	constructTopLine(col, colSecond, clientRect593, clientRect593)
	constructTopLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructTopLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructTopLine(col, colRow1And0, clientRect593, clientRect593)


	/* let */ col = canvasDetails593.grid[13][13]
	/* let */ colSecond = canvasDetails593.grid[13][14]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails593.grid[14][13]
	/* let */ colRow1And1 = canvasDetails593.grid[14][14]


	constructLine(col, colSecond, clientRect593, clientRect593)
	constructLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructLine(col, colRow1And0, clientRect593, clientRect593)


	constructVerticalLine(col, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colRow1And0, colRow1And1, clientRect593, clientRect593)

	constructVerticalLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colSecond, col, clientRect593, clientRect593)
	

	constructTopLine(col, colSecond, clientRect593, clientRect593)
	constructTopLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructTopLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructTopLine(col, colRow1And0, clientRect593, clientRect593)


	/* let */ col = canvasDetails593.grid[12][14]
	/* let */ colSecond = canvasDetails593.grid[12][15]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails593.grid[13][14]
	/* let */ colRow1And1 = canvasDetails593.grid[13][15]


	constructLine(col, colSecond, clientRect593, clientRect593)
	constructLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructLine(col, colRow1And0, clientRect593, clientRect593)


	constructVerticalLine(col, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colRow1And0, colRow1And1, clientRect593, clientRect593)

	constructVerticalLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colSecond, col, clientRect593, clientRect593)
	

	constructTopLine(col, colSecond, clientRect593, clientRect593)
	constructTopLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructTopLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructTopLine(col, colRow1And0, clientRect593, clientRect593)




/* let */ col = canvasDetails593.grid[12][13]
	/* let */ colSecond = canvasDetails593.grid[12][14]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails593.grid[13][13]
	/* let */ colRow1And1 = canvasDetails593.grid[13][14]


	constructLine(col, colSecond, clientRect593, clientRect593)
	constructLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructLine(col, colRow1And0, clientRect593, clientRect593)


	constructVerticalLine(col, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colRow1And0, colRow1And1, clientRect593, clientRect593)

	constructVerticalLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colSecond, col, clientRect593, clientRect593)
	

	constructTopLine(col, colSecond, clientRect593, clientRect593)
	constructTopLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructTopLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructTopLine(col, colRow1And0, clientRect593, clientRect593)



	/* let */ col = canvasDetails593.grid[11][14]
	/* let */ colSecond = canvasDetails593.grid[11][15]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails593.grid[12][14]
	/* let */ colRow1And1 = canvasDetails593.grid[12][15]


	constructLine(col, colSecond, clientRect593, clientRect593)
	constructLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructLine(col, colRow1And0, clientRect593, clientRect593)


	constructVerticalLine(col, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colRow1And0, colRow1And1, clientRect593, clientRect593)

	constructVerticalLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colSecond, col, clientRect593, clientRect593)
	

	constructTopLine(col, colSecond, clientRect593, clientRect593)
	constructTopLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructTopLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructTopLine(col, colRow1And0, clientRect593, clientRect593)


	/* let */ col = canvasDetails593.grid[11][13]
	/* let */ colSecond = canvasDetails593.grid[11][14]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails593.grid[12][13]
	/* let */ colRow1And1 = canvasDetails593.grid[12][14]


	constructLine(col, colSecond, clientRect593, clientRect593)
	constructLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructLine(col, colRow1And0, clientRect593, clientRect593)


	constructVerticalLine(col, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colRow1And0, colRow1And1, clientRect593, clientRect593)

	constructVerticalLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colSecond, col, clientRect593, clientRect593)
	

	constructTopLine(col, colSecond, clientRect593, clientRect593)
	constructTopLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructTopLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructTopLine(col, colRow1And0, clientRect593, clientRect593)



	/* let */ col = canvasDetails593.grid[10][14]
	/* let */ colSecond = canvasDetails593.grid[10][15]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails593.grid[11][14]
	/* let */ colRow1And1 = canvasDetails593.grid[11][15]


	constructLine(col, colSecond, clientRect593, clientRect593)
	constructLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructLine(col, colRow1And0, clientRect593, clientRect593)


	constructVerticalLine(col, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colRow1And0, colRow1And1, clientRect593, clientRect593)

	constructVerticalLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colSecond, col, clientRect593, clientRect593)
	

	constructTopLine(col, colSecond, clientRect593, clientRect593)
	constructTopLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructTopLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructTopLine(col, colRow1And0, clientRect593, clientRect593)



	/* let */ col = canvasDetails593.grid[10][13]
	/* let */ colSecond = canvasDetails593.grid[10][14]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails593.grid[11][13]
	/* let */ colRow1And1 = canvasDetails593.grid[11][14]


	constructLine(col, colSecond, clientRect593, clientRect593)
	constructLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructLine(col, colRow1And0, clientRect593, clientRect593)


	constructVerticalLine(col, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colRow1And0, colRow1And1, clientRect593, clientRect593)

	constructVerticalLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colSecond, col, clientRect593, clientRect593)
	

	constructTopLine(col, colSecond, clientRect593, clientRect593)
	constructTopLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructTopLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructTopLine(col, colRow1And0, clientRect593, clientRect593)


	/* let */ col = canvasDetails593.grid[9][14]
	/* let */ colSecond = canvasDetails593.grid[9][15]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails593.grid[10][14]
	/* let */ colRow1And1 = canvasDetails593.grid[10][15]


	constructLine(col, colSecond, clientRect593, clientRect593)
	constructLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructLine(col, colRow1And0, clientRect593, clientRect593)


	constructVerticalLine(col, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colRow1And0, colRow1And1, clientRect593, clientRect593)

	constructVerticalLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colSecond, col, clientRect593, clientRect593)
	

	constructTopLine(col, colSecond, clientRect593, clientRect593)
	constructTopLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructTopLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructTopLine(col, colRow1And0, clientRect593, clientRect593)




	/* let */ col = canvasDetails593.grid[9][13]
	/* let */ colSecond = canvasDetails593.grid[9][14]
	// // console.log({col, colSecond})

	/* let */ colRow1And0 = canvasDetails593.grid[10][13]
	/* let */ colRow1And1 = canvasDetails593.grid[10][14]


	constructLine(col, colSecond, clientRect593, clientRect593)
	constructLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructLine(col, colRow1And0, clientRect593, clientRect593)


	constructVerticalLine(col, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colRow1And0, colRow1And1, clientRect593, clientRect593)

	constructVerticalLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructVerticalLine(colSecond, col, clientRect593, clientRect593)
	

	constructTopLine(col, colSecond, clientRect593, clientRect593)
	constructTopLine(colRow1And0, colRow1And1, clientRect593, clientRect593)
	constructTopLine(colRow1And1, colSecond, clientRect593, clientRect593)
	constructTopLine(col, colRow1And0, clientRect593, clientRect593)

	let colRow1And4 = canvasDetails597.grid[1][4]
	let colRow3And4 = canvasDetails597.grid[3][4]
	let colRow5And4 = canvasDetails597.grid[5][4]
	let colRow7And4 = canvasDetails597.grid[7][4]
	/* const */ canvas = document.querySelector('#canvas-593-aa');
    /* const */ ctx = canvas.getContext('2d');

	// 4, 1 ; 4, 3;  4,5  4,7
	constructRect(colRow1And4)
	constructRect(colRow3And4)
	constructRect(colRow5And4)
	constructRect(colRow7And4)

	let colRow10And4 = canvasDetails597.grid[10][4]
	let colRow11And4 = canvasDetails597.grid[11][4]
	let colRow13And5 = canvasDetails597.grid[13][5]
	let colRow12And5 = canvasDetails597.grid[12][5]
	let colRow14And4 = canvasDetails597.grid[14][4]
	let colRow15And4 = canvasDetails597.grid[15][4]

	// 4, 10; 4,11; 5,13; 4,14; 4,15
	constructRect(colRow10And4)
	constructRect(colRow11And4)
	constructRect(colRow12And5)
	constructRect(colRow13And5)

	constructRect(colRow14And4)
	constructRect(colRow15And4)

	// 13,0; 13,3; 14,6; 14,9; 14,13; 14,15
	let colRow13And0 = canvasDetails597.grid[0][13]
	let colRow13And3 = canvasDetails597.grid[3][13]
	let colRow14And6 = canvasDetails597.grid[6][14]
	let colRow14And9 = canvasDetails597.grid[9][14]
	let colRow14And13 = canvasDetails597.grid[13][14]
	let colRow15And14 = canvasDetails597.grid[15][14]

	constructRect(colRow13And0)
	constructRect(colRow13And3)
	constructRect(colRow14And6)
	constructRect(colRow14And9)

	constructRect(colRow14And13)
	constructRect(colRow15And14)

	let canvasDetails598 = useCanvas('canvas-598', 'canvas-593-aa', 1389, 723)
	/* let */ clientRect = canvasDetails598.canvas.getBoundingClientRect()
	/* const */ canvas = document.querySelector('#canvas-593-aa');
    /* const */ ctx = canvas.getContext('2d');

	// 14,4; 14,6; 14,8; 13,8; 12,8; 11,8
	/* let */ colRow14And4 = canvasDetails598.grid[4][14]
	/* let */ colRow14And6 = canvasDetails598.grid[6][14]
	/* let */ colRow14And8 = canvasDetails598.grid[8][14]
	/* let */ colRow13And8 = canvasDetails598.grid[8][13]
	/* let */ colRow12And8 = canvasDetails598.grid[8][12]
	/* let */ colRow11And8 = canvasDetails598.grid[8][11]

	constructRect(colRow14And4)
	constructRect(colRow14And6)
	constructRect(colRow14And8)
	constructRect(colRow13And8)

	constructRect(colRow12And8)
	constructRect(colRow11And8)

	// 11,8; 10,8;9,8;8,8;7,7;6,7;5,7;
	// 4,5;4,4;,4,3;,4,2;4,1;
	/* let */ colRow11And8 = canvasDetails598.grid[8][11]
	/* let */ colRow10And8 = canvasDetails598.grid[8][10]
	/* let */ colRow9And8 = canvasDetails598.grid[8][9]
	/* let */ colRow8And8 = canvasDetails598.grid[8][8]
	/* let */ colRow7And7 = canvasDetails598.grid[7][7]
	/* let */ colRow6And7 = canvasDetails598.grid[7][6]
	/* let */ colRow5And7 = canvasDetails598.grid[7][5]


	constructRect(colRow11And8)
	constructRect(colRow10And8)
	constructRect(colRow9And8)
	constructRect(colRow8And8)

	constructRect(colRow7And7)
	constructRect(colRow6And7)
	constructRect(colRow5And7)

	/* let */ colRow4And5 = canvasDetails598.grid[5][4]
	/* let */ colRow4And4 = canvasDetails598.grid[4][4]
	/* let */ colRow4And3 = canvasDetails598.grid[3][4]
	/* let */ colRow4And1 = canvasDetails598.grid[1][4]

	constructRect(colRow4And5)
	constructRect(colRow4And4)
	constructRect(colRow4And3)

	constructRect(colRow4And1)


	/* let */ canvasDetails596 = useCanvas('canvas-596', 'canvas-593-aa', 1389, 723)
	/* let */ clientRect = canvasDetails596.canvas.getBoundingClientRect()
	/* const */ canvas = document.querySelector('#canvas-593-aa');
    /* const */ ctx = canvas.getContext('2d');

	// 2,0;2,3;2,5;3,7;3,9;3,11;3,12
	/* let */ colRow2And0 = canvasDetails596.grid[0][2]
	/* let */ colRow3And0 = canvasDetails596.grid[3][2]
	/* let */ colRow5And2 = canvasDetails596.grid[5][2]
	/* let */ colRow7And3 = canvasDetails596.grid[7][3]
	/* let */ colRow9And3 = canvasDetails596.grid[9][3]
	/* let */ colRow11And3 = canvasDetails596.grid[11][3]
	/* let */ colRow12And3 = canvasDetails596.grid[12][3]


	constructRect(colRow2And0)
	constructRect(colRow3And0)
	constructRect(colRow5And2)
	constructRect(colRow7And3)

	constructRect(colRow9And3)
	constructRect(colRow11And3)
	constructRect(colRow12And3)


	// 12,2;12,4;12,7;12,9;13,10;13,13

	/* let */ colRow2And12 = canvasDetails596.grid[2][12]
	/* let */ colRow4And12 = canvasDetails596.grid[4][12]
	/* let */ colRow7And12 = canvasDetails596.grid[7][12]
	/* let */ colRow9And12 = canvasDetails596.grid[9][12]
	/* let */ colRow9And13 = canvasDetails596.grid[9][13]
	/* let */ colRow10And13 = canvasDetails596.grid[10][13]
	/* let */ colRow13And13 = canvasDetails596.grid[13][13]


	constructRect(colRow2And12)
	constructRect(colRow4And12)
	constructRect(colRow7And12)
	constructRect(colRow9And12)

	constructRect(colRow9And13)
	constructRect(colRow10And13)
	constructRect(colRow13And13)


	// /* let */ colRow0And9 = canvasDetails596.grid[0][9]
	// /* let */ colRow0And7 = canvasDetails596.grid[0][7]
	// /* let */ colRow0And5 = canvasDetails596.grid[0][5]
	//
	// constructRect(colRow0And9)
	// constructRect(colRow0And7)
	// constructRect(colRow0And5)
	window['leftOffset'] = 0
	window['topOffset'] = 0

	function drawGridMap() {
		canvasMap = document.getElementById('grid-map')
		ctxMap = canvasMap.getContext('2d')

		ctxMap.clearRect(0, 0, canvasMap.width, canvasMap.height)
		ctxMap.strokeStyle = '#000'
		ctxMap.beginPath();

		ctxMap.moveTo(240 + calc(-leftOffset*40 * calc(800/4630)), 165 + -topOffset*40 * calc(550 / 2410));
		ctxMap.lineTo(240 + 328.9848816 + calc(-leftOffset*40 * calc(800/4630)), 165 + -topOffset*40 * calc(550 / 2410));

		ctxMap.moveTo(240 + 328.9848816 + calc(-leftOffset*40 * calc(800/4630)), 165 + -topOffset*40 * calc(550 / 2410));
		ctxMap.lineTo(240 + 328.9848816 + calc(-leftOffset*40 * calc(800/4630)), 165 + 220 + -topOffset*40 * calc(550 / 2410));

		ctxMap.moveTo(240 + 328.9848816 + calc(-leftOffset*40 * calc(800/4630)), 165 + 220 + -topOffset*40 * calc(550 / 2410));
		ctxMap.lineTo(240 + calc(-leftOffset*40 * calc(800/4630)), 165 + 220 + -topOffset*40 * calc(550 / 2410));

		ctxMap.moveTo(240 + calc(-leftOffset*40 * calc(800/4630)), 165 + 220 + -topOffset*40 * calc(550 / 2410));
		ctxMap.lineTo(240 + calc(-leftOffset*40 * calc(800/4630)), 165 + -topOffset*40 * calc(550 / 2410));


		ctxMap.closePath();
		ctxMap.stroke()


	}

	function moveLeft() {
		/* let */ canvas = document.getElementById('canvas-593-aa')
		/* var */ ctx = canvas.getContext('2d');


		// create backing canvas
		var backCanvas = document.createElement('canvas');
		backCanvas.width = canvas.width;
		backCanvas.height = canvas.height;
		var backCtx = backCanvas.getContext('2d');

		// save main canvas contents
		backCtx.drawImage(canvas, 0,0);


		if(leftOffset > -17) {
			// keep
		} else {
			return
		}
		leftOffset -= 1
		drawGridMap()

		// restore main canvas
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		ctx.drawImage(backCanvas, -40, 0);
	}
	function moveRight() {
		/* let */ canvas = document.getElementById('canvas-593-aa')
		/* var */ ctx = canvas.getContext('2d');


		// create backing canvas
		var backCanvas = document.createElement('canvas');
		backCanvas.width = canvas.width;
		backCanvas.height = canvas.height;
		var backCtx = backCanvas.getContext('2d');

		// save main canvas contents
		backCtx.drawImage(canvas, 0,0);

		if(leftOffset < 18) {
			// keep
		} else {
			return
		}
		leftOffset += 1
		drawGridMap()

		// restore main canvas
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		ctx.drawImage(backCanvas, 40, 0);
	}
	function moveUp() {
		/* let */ canvas = document.getElementById('canvas-593-aa')
		/* var */ ctx = canvas.getContext('2d');


		// create backing canvas
		var backCanvas = document.createElement('canvas');
		backCanvas.width = canvas.width;
		backCanvas.height = canvas.height;
		var backCtx = backCanvas.getContext('2d');

		// save main canvas contents
		backCtx.drawImage(canvas, 0,0);

		if(topOffset > -6) {
			// keep
		} else {
			return
		}
		topOffset -= 1
		drawGridMap()
		// restore main canvas
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		ctx.drawImage(backCanvas, 0, -40);
	}
	function moveBottom() {
		/* let */ canvas = document.getElementById('canvas-593-aa')
		/* var */ ctx = canvas.getContext('2d');


		// create backing canvas
		var backCanvas = document.createElement('canvas');
		backCanvas.width = canvas.width;
		backCanvas.height = canvas.height;
		var backCtx = backCanvas.getContext('2d');

		// save main canvas contents
		backCtx.drawImage(canvas, 0,0);

		if(topOffset < 10) {
			// keep
		} else {
			return
		}
		topOffset += 1
		drawGridMap()

		// restore main canvas
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		ctx.drawImage(backCanvas, 0, 40);
	}
	character = {
		moveLeft,
		moveRight,
		moveUp,
		moveBottom
	}

    const input = setupKeyboard(/*mario*/character);
    input.listenTo(window);

    drawGridMap()


	document.querySelector('body').onclick = (event) => {
		console.log({fromY: event.clientY, fromX: event.clientX})
	}

// })();
</script>
